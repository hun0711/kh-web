<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>도전문제 - [구조분해, spread연산]</title>
  </head>
  <body>
    <script type="text/javascript">
      //리액트 -> 태그와 자바스크립트코드 같이 쓴다
      //items는 배열 이다. - 배열안에 객체가 있다
      //데이터베이스 연동없이 입력, 수정, 삭제, 조회 반복 연습
      let items = [
        { id: 1, name: "벤치프레스", count: 10 },
        { id: 2, name: "랫풀다운", count: 12 },
        { id: 3, name: "스쿼트", count: 30 },
      ];
      //추가하기 - 전개연산자 - 2번
      //배열만 있을 때
      //객체만 있을 때
      //배열안에 객체가 있을 때
      let items_copy = [...items, { id: 5, name: "레그프레스", count: 20 }];
      document.write("<div>");
      document.write("<table border='1' borderColor='red'>");
		document.write("<thead>2번문제:</thead");
      items_copy.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("</tr>");
      });
      document.write("</table>");
      document.write("</div>");
      //삭제하기 - filter함수 - 3번 - 대화형 프로그래밍 처리 훈련
      //prompt로 받으면 반환값이 문자열이다. - 주의(===, !==사용시 타입도 따지니까...)
      let result = -1;
      //result = window.prompt("삭제하고자 하는 id를 입력하세요.");
      //alert("사용자가 선택한 아이디는 " + result + "입니다.");
      //arr.filter(callback(element[, index[, array]])[, thisArg])
      //filter함수는 조건을 수렴하는 것만 남겨서 새로운 배열을 반환함
      let newItems = items.filter((row) => row.id !== parseInt(result));
      document.write("<div>");
      document.write("<table border='1' borderColor='red'>");
		document.write("<thead>3번문제:</thead");
      newItems.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("</tr>");
      });
      document.write("</table>");
      document.write("</div>");
      //수정하기 - 추가하기 동일하게 처리 - 4번(삭제하고 추가하기)
	  let x = [...items]
      result = window.prompt("수정하고자 하는 id를 입력하세요.");
      x.forEach((item) => {
		if(item.id === parseInt(result)){
			x = items.filter(item => item.id !== parseInt(result))
			x = [...x, {id:`${parseInt(result)}` , name: "덤벨프레스", count: 15}]
		}
	})
	document.write("<div>");
      document.write("<table border='1' borderColor='green'>");
      document.write("<thead>4번문제:</thead");
      x.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("</tr>");
      });
      document.write("</table>");
      document.write("</div>");

      //조회하기 - forEach - 1번
      //더블쿼테이션과 싱글 쿼테이션
      //문제는 같이 사용할 경우 바깥쪽을 더블 안쪽을 싱글
      //<태그 속성명=값>내용</태그>
      document.write("<div>");
      document.write("<table border='1' borderColor='green'>");
      document.write("<thead>1번문제:</thead");
      items.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("</tr>");
      });
      document.write("</thead>");
      document.write("</div>");
    </script>
  </body>
</html>
